
<h1 class="sectionedit1" id="decision_matrix">Decision Matrix</h1>
<div class="level1">

<p>
The full functionality of the decision matrix is explained <a href="http://www.vscp.org/docs/vscpspec/doku.php?id=decision_matrix" class="urlextern" title="http://www.vscp.org/docs/vscpspec/doku.php?id=decision_matrix" rel="nofollow">in the specification</a>. 
</p>

<p>
The demo firmware installed on Odessa have a decision matrix consisting of eight entries. This matrix can be used to control the outputs. Possible actions are listed in the table below.
</p>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Action </th><th class="col1"> Action code </th><th class="col2"> Parameter </th><th class="col3">Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  <strong>NOOP</strong>  </td><td class="col1 centeralign">  0  </td><td class="col2 centeralign">  Not used  </td><td class="col3"> No operation. Will do absolutely nothing. </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  <strong>SET</strong>  </td><td class="col1 centeralign">  1  </td><td class="col2 centeralign">  3-20/131-148  </td><td class="col3"> Will set on of the pins (valid parameter is 3-20) to it&#039;s active state. </td>
	</tr>
	<tr class="row3">
		<td class="col0 centeralign">  <strong>CLR</strong>  </td><td class="col1 centeralign">  2  </td><td class="col2 centeralign">  3-20/131-148  </td><td class="col3"> Will set on of the pins (valid parameter is 3-20) to it&#039;s inactive state. </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  <strong>SETALL</strong>  </td><td class="col1 centeralign">  3  </td><td class="col2 centeralign">  Not used  </td><td class="col3"> Will set all of the pins to the active state. </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  <strong>CLRALL</strong>  </td><td class="col1 centeralign">  4  </td><td class="col2 centeralign">  Not used  </td><td class="col3"> Will set all of the pins to the inactive state. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;368-889&quot;} -->
<p>
If parameter bit 7 is set the five lowest bits specifies the pin number and this pin number should be the same as the sub zone set for that pin to trigger the action.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Decision Matrix&quot;,&quot;hid&quot;:&quot;decision_matrix&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1060&quot;} -->
<h2 class="sectionedit3" id="example">Example</h2>
<div class="level2">

<p>
You want to activate output on pin 3 when a <a href="http://www.vscp.org/docs/vscpspec/doku.php?id=class1.control#type_5_0x05_turnon" class="urlextern" title="http://www.vscp.org/docs/vscpspec/doku.php?id=class1.control#type_5_0x05_turnon" rel="nofollow">CLASS1.CONTROL, TurnOn, Type=5 event</a> is received.  
</p>

<p>
A matrix row consist of
</p>
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Byte </th><th class="col1"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 0 </td><td class="col1"> oaddr </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1 </td><td class="col1"> flags </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 2 </td><td class="col1"> class-mask </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 3 </td><td class="col1"> class-filter </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 4 </td><td class="col1"> type-mask </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 5 </td><td class="col1"> type-filter </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 6 </td><td class="col1"> Action code </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 7 </td><td class="col1"> Action parameter </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;1288-1461&quot;} -->
<p>
So populate the row with the following values
</p>
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Byte </th><th class="col1"> Value </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 centeralign">  0  </td><td class="col1 centeralign">  <strong>0x00</strong>  </td><td class="col2"> oaddr </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  1  </td><td class="col1 centeralign">  <strong>0x80</strong>  </td><td class="col2"> flags </td>
	</tr>
	<tr class="row3">
		<td class="col0 centeralign">  2  </td><td class="col1 centeralign">  <strong>0xff</strong>  </td><td class="col2"> class-mask </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  3  </td><td class="col1 centeralign">  <strong>0x1e</strong>  </td><td class="col2"> class-filter </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  4  </td><td class="col1 centeralign">  <strong>0xff</strong>  </td><td class="col2"> type-mask </td>
	</tr>
	<tr class="row6">
		<td class="col0 centeralign">  5  </td><td class="col1 centeralign">  <strong>0x05</strong>  </td><td class="col2"> type-filter </td>
	</tr>
	<tr class="row7">
		<td class="col0 centeralign">  6  </td><td class="col1 centeralign">  <strong>0x01</strong>  </td><td class="col2"> Action code </td>
	</tr>
	<tr class="row8">
		<td class="col0 centeralign">  7  </td><td class="col1 centeralign">  <strong>0x83</strong>  </td><td class="col2"> Action parameter </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;1511-1812&quot;} --><ul>
<li class="level1"><div class="li"> <strong>oaddr</strong> set to zero as i is not used.</div>
</li>
<li class="level1"><div class="li">  <strong>flags</strong> have one bit set. Enable row. We could have set bit 4 Match Zone to  test zone also trigger DM.</div>
</li>
<li class="level1"><div class="li"> <strong>class-mask</strong> is set to 0xff as we have just one event we will trigger on.</div>
</li>
<li class="level1"><div class="li"> <strong>class-filter</strong> is set to CLASS1.CONTROL.</div>
</li>
<li class="level1"><div class="li"> <strong>type-mask</strong> is set to 0xff as we have just one event we will trigger on.</div>
</li>
<li class="level1"><div class="li"> <strong>type-filter</strong> is set to 5 which is TurnOn.</div>
</li>
<li class="level1"><div class="li"> <strong>Action code</strong> i set to the SET action.</div>
</li>
<li class="level1"><div class="li"> <strong>Action parameter</strong>  have bit 7 set to check corresponding subzone and 3 for pin3.</div>
</li>
</ul>

<p>
If you double click a decision matrix row a dialog comes up which help you to set the values.
</p>

<p>
<a href="/odessa/manual/lib/exe/detail.php?id=decisionmatrix&amp;media=odessa_dm_row_edit.png" class="media" title="odessa_dm_row_edit.png"><img src="/odessa/manual/lib/exe/fetch.php?w=400&amp;tok=549434&amp;media=odessa_dm_row_edit.png" class="media" alt="" width="400" /></a>
</p>

<p>
Now if <a href="http://www.vscp.org/docs/vscpspec/doku.php?id=class1.control#type_5_0x05_turnon" class="urlextern" title="http://www.vscp.org/docs/vscpspec/doku.php?id=class1.control#type_5_0x05_turnon" rel="nofollow">CLASS1.CONTROL, TurnOn, Type=5 event</a> appears on the bus that have data=x,x,3 pin3 will be activated
</p>

<p>
The row will look like this in the decision matrix
</p>

<p>
<a href="/odessa/manual/lib/exe/detail.php?id=decisionmatrix&amp;media=odessa_dm_row.png" class="media" title="odessa_dm_row.png"><img src="/odessa/manual/lib/exe/fetch.php?w=600&amp;tok=fcabc5&amp;media=odessa_dm_row.png" class="media" alt="" width="600" /></a>
</p>

<p>
You can load a register file <a href="http://www.grodansparadis.com/odessa/downloads/odessa_dm_demo1.reg" class="urlextern" title="http://www.grodansparadis.com/odessa/downloads/odessa_dm_demo1.reg" rel="nofollow">here</a> that can be loaded in VSCP works with decision matrix entries to turn on/off pin3 from TurnOn/TurnOff events. 
</p>

<p>
You can also download a transmission set for VSCP Works <a href="http://www.grodansparadis.com/odessa/downloads/odessa_on_off3.txd" class="urlextern" title="http://www.grodansparadis.com/odessa/downloads/odessa_on_off3.txd" rel="nofollow">here</a> that can be loaded.
</p>

<p>
This is how it looks in the session window.
</p>

<p>
<a href="/odessa/manual/lib/exe/detail.php?id=decisionmatrix&amp;media=odessa_on_off_text.png" class="media" title="odessa_on_off_text.png"><img src="/odessa/manual/lib/exe/fetch.php?w=600&amp;tok=6df16b&amp;media=odessa_on_off_text.png" class="media" alt="" width="600" /></a>
</p>

<p>
<br/>

</p>
<hr />

<p>
<a href="/odessa/manual/lib/exe/detail.php?id=decisionmatrix&amp;media=grodan_logo.png" class="media" title="grodan_logo.png"><img src="/odessa/manual/lib/exe/fetch.php?w=100&amp;tok=9032da&amp;media=grodan_logo.png" class="mediacenter" alt="" width="100" /></a>
<br/>

<center>
<strong>Paradise of the Frog AB</strong> Brattbergav√§gen 17 820 50 LOS SWEDEN<br/>

<strong>email:</strong> <a href="mailto:&#x69;&#x6e;&#x66;&#x6f;&#x40;&#x67;&#x72;&#x6f;&#x64;&#x61;&#x6e;&#x73;&#x70;&#x61;&#x72;&#x61;&#x64;&#x69;&#x73;&#x2e;&#x63;&#x6f;&#x6d;" class="mail" title="&#x69;&#x6e;&#x66;&#x6f;&#x40;&#x67;&#x72;&#x6f;&#x64;&#x61;&#x6e;&#x73;&#x70;&#x61;&#x72;&#x61;&#x64;&#x69;&#x73;&#x2e;&#x63;&#x6f;&#x6d;">&#x69;&#x6e;&#x66;&#x6f;&#x40;&#x67;&#x72;&#x6f;&#x64;&#x61;&#x6e;&#x73;&#x70;&#x61;&#x72;&#x61;&#x64;&#x69;&#x73;&#x2e;&#x63;&#x6f;&#x6d;</a> <strong>phone:</strong> +46 (0)8 40011835 <br/>

<strong>web:</strong><a href="http://www.grodansparadis.com" class="urlextern" title="http://www.grodansparadis.com" rel="nofollow">http://www.grodansparadis.com</a> <br/>

</center>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1061-&quot;} -->